{"version":3,"sources":["../../scripts/weapon_combiner.ts","../../scripts/data/COMBINED_WEAPONS.ts","../../scripts/data/CHANGEABLE_WEAPONS.ts","../../scripts/data/WEAPON_ABILITIES.ts","../../scripts/weapon_ability_passive.ts","../../scripts/weapon_ability_onhurt.ts","../../scripts/main.ts","../../scripts/features/activeAbility/activeAbilityHolder.ts","../../scripts/features/activeAbility/activeAbility.ts","../../scripts/handelers/itemUse.ts","../../scripts/features/ohHitAbility/onHitAbility.ts","../../scripts/helper/tellraw.ts","../../scripts/features/ohHitAbility/onHitAbilityHolder.ts","../../scripts/handelers/entityHitEntity.ts","../../scripts/handelers/runInterval.ts","../../scripts/features/playerProcessor.ts"],"sourcesContent":["import * as Minecraft from \"@minecraft/server\";\r\nimport { COMBINED_WEAPONS } from \"./data/COMBINED_WEAPONS\";\r\nimport { CHANGEABLE_WEAPONS } from \"./data/CHANGEABLE_WEAPONS\";\r\nimport { WEAPON_ABILITIES } from \"./data/WEAPON_ABILITIES\";\r\n\r\nexport class WeaponCombiner {\r\n  constructor() {\r\n    this.initialize();\r\n  }\r\n\r\n  initialize() {\r\n    Minecraft.world.sendMessage(\"Weapon Combiner Initialized\");\r\n    Minecraft.system.runInterval(() => {\r\n      Minecraft.world.getAllPlayers().forEach((player) => {\r\n        player.dimension.getEntities().forEach((entity) => {\r\n          if (entity.typeId.includes(`bey:weapon_combiner_display`)) {\r\n            const underBlock = entity.dimension.getBlock({\r\n              x: Math.floor(entity.location.x),\r\n              y: Math.floor(entity.location.y) - 1,\r\n              z: Math.floor(entity.location.z),\r\n            });\r\n            if ((underBlock && underBlock.typeId !== \"bey:materia_conflux\") || entity.hasTag(`gonnaDie`)) {\r\n              entity.teleport({ x: 100, y: 20, z: 100 });\r\n              Minecraft.system.runTimeout(() => {\r\n                entity.kill();\r\n              }, 4);\r\n            }\r\n            if (player.hasTag(`doOnce`)) {\r\n              Minecraft.system.runTimeout(() => {\r\n                player.removeTag(`doOnce`);\r\n              }, 10);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    Minecraft.world.beforeEvents.worldInitialize.subscribe((initEvent) => {\r\n      initEvent.blockComponentRegistry.registerCustomComponent(\"bey:materia_conflux_function\", {\r\n        onPlayerInteract: (event) => {\r\n          let player = event.player;\r\n          const block = event.block;\r\n          if (!player) return;\r\n\r\n          let playerHeld = (player.getComponent(\"equippable\") as Minecraft.EntityEquippableComponent).getEquipment(\r\n            Minecraft.EquipmentSlot.Mainhand\r\n          );\r\n          let { x, y, z } = block.location;\r\n\r\n          COMBINED_WEAPONS.forEach((key) => {\r\n            let entitiesAbove = block.dimension.getEntities().filter((entity) => {\r\n              let pos = entity.location;\r\n              return Math.floor(pos.x) === x && Math.floor(pos.y) === y + 1 && Math.floor(pos.z) === z;\r\n            });\r\n\r\n            if (entitiesAbove.length == 0) {\r\n              if (playerHeld && playerHeld.typeId === key.typeId) {\r\n                block.setPermutation(block.permutation.withState(\"bey:materia_conflux\", 1));\r\n                block.dimension.spawnParticle(\"minecraft:totem_particle\", { x, y: y + 1, z });\r\n                Minecraft.world.playSound(\"bey_place_sound\", block.location, { volume: 10, pitch: 0.3 });\r\n                player.sendMessage(`§dCurrent §6§lMaterial§r §dCan Be Combined With a §6§l${key.addable}`);\r\n\r\n                let entity = block.dimension.spawnEntity(\"bey:weapon_combiner_display\", { x, y: y + 1, z });\r\n                if (entity) {\r\n                  entity.triggerEvent(`bey:var${key.displayItem}`);\r\n                  entity.addTag(`${key.index}`);\r\n                }\r\n                //eslint-disable-next-line\r\n                player.runCommand(`/clear @s ${key.typeId} 0 1`);\r\n              }\r\n            }\r\n            if (entitiesAbove.length != 0) {\r\n              entitiesAbove.forEach((entity) => {\r\n                let index = entity.getTags()[0];\r\n                COMBINED_WEAPONS.forEach((key) => {\r\n                  if (key.index == index) {\r\n                    if (playerHeld == undefined && !player.hasTag(`doOnce`)) {\r\n                      player.sendMessage(`§dCurrent §6§lMaterial§r §dCan Be Combined With a §6§l${key.addable}`);\r\n                      player.addTag(`doOnce`);\r\n                    }\r\n                  }\r\n                });\r\n              });\r\n            }\r\n          });\r\n\r\n          CHANGEABLE_WEAPONS.forEach((weapon) => {\r\n            if (playerHeld && playerHeld.typeId == weapon.typeId) {\r\n              let { x, y, z } = block.location;\r\n\r\n              let randomIndex = Math.floor(Math.random() * COMBINED_WEAPONS.length);\r\n              Minecraft.world.sendMessage(`${randomIndex}`);\r\n\r\n              let entitiesAbove = block.dimension.getEntities().filter((entity) => {\r\n                let pos = entity.location;\r\n                return Math.floor(pos.x) === x && Math.floor(pos.y) === y + 1 && Math.floor(pos.z) === z;\r\n              });\r\n\r\n              entitiesAbove.forEach((entity) => {\r\n                const index = entity.getTags()[0];\r\n                const currentLore = playerHeld.getLore();\r\n\r\n                const combinedWeapon = COMBINED_WEAPONS.find((w) => w.index == index);\r\n                if (!combinedWeapon) return;\r\n\r\n                const matchingAbilities = WEAPON_ABILITIES.filter((a) => a.weaponTag === combinedWeapon.weapon);\r\n                const hasMatchingLore = matchingAbilities.some((a) => currentLore.includes(a.abilityLore));\r\n\r\n                if (!hasMatchingLore) {\r\n                  //eslint-disable-next-line\r\n                  player.runCommand(\r\n                    `/replaceitem entity @s slot.weapon.mainhand 0 bey:${combinedWeapon.weapon}_${weapon.itemTag}`\r\n                  );\r\n                  block.dimension.spawnParticle(\"minecraft:totem_particle\", { x, y: y + 1, z });\r\n                  Minecraft.world.playSound(`bey_place_sound`, block.location, { volume: 10, pitch: 0.3 });\r\n                  entitiesAbove.forEach((e) => e.addTag(`gonnaDie`));\r\n\r\n                  if (matchingAbilities.length > 0) {\r\n                    let randomAbility = matchingAbilities[Math.floor(Math.random() * matchingAbilities.length)];\r\n\r\n                    const inventory = (player.getComponent(\"minecraft:inventory\") as Minecraft.EntityInventoryComponent)\r\n                      .container;\r\n                    const selectedSlotIndex = player.selectedSlotIndex;\r\n                    if (!inventory) return;\r\n                    const item = inventory.getItem(selectedSlotIndex);\r\n\r\n                    if (!item) return;\r\n\r\n                    Minecraft.system.runTimeout(() => {\r\n                      item.setLore([randomAbility.abilityLore]);\r\n                      inventory.setItem(selectedSlotIndex, item);\r\n                    });\r\n                  }\r\n                }\r\n              });\r\n            }\r\n\r\n            COMBINED_WEAPONS.forEach((abilityWeapon) => {\r\n              let entitiesAbove = block.dimension.getEntities().filter((entity) => {\r\n                let pos = entity.location;\r\n                return Math.floor(pos.x) === x && Math.floor(pos.y) === y + 1 && Math.floor(pos.z) === z;\r\n              });\r\n\r\n              entitiesAbove.forEach((entity) => {\r\n                let index = entity.getTags()[0];\r\n                if (\r\n                  abilityWeapon &&\r\n                  playerHeld?.typeId.split(\":\")[1].split(\"_\")[0] == abilityWeapon.weapon &&\r\n                  index == abilityWeapon.index &&\r\n                  playerHeld?.typeId.split(\":\")[0] == \"bey\"\r\n                ) {\r\n                  let customTag = playerHeld.typeId.split(\":\")[1].split(\"_\")[0];\r\n\r\n                  const inventory = (player.getComponent(\"minecraft:inventory\") as Minecraft.EntityInventoryComponent)\r\n                    .container;\r\n                  const selectedSlotIndex = player.selectedSlotIndex;\r\n                  if (!inventory) return;\r\n                  const item = inventory.getItem(selectedSlotIndex);\r\n                  if (!item) return;\r\n\r\n                  let currentLore = item.getLore() || [];\r\n\r\n                  const abilitiesForWeapon = WEAPON_ABILITIES.filter((a) => a.weaponTag === customTag);\r\n\r\n                  const availableAbilities = abilitiesForWeapon.filter(\r\n                    (ability) => !currentLore.includes(ability.abilityLore)\r\n                  );\r\n\r\n                  if (availableAbilities.length > 0) {\r\n                    let randomAbility = availableAbilities[Math.floor(Math.random() * availableAbilities.length)];\r\n\r\n                    Minecraft.system.runTimeout(() => {\r\n                      currentLore.push(randomAbility.abilityLore);\r\n                      item.setLore(currentLore);\r\n                      inventory.setItem(selectedSlotIndex, item);\r\n\r\n                      block.setPermutation(block.permutation.withState(\"bey:materia_conflux\", 0));\r\n                      block.dimension.spawnParticle(\"minecraft:totem_particle\", { x, y: y + 1, z });\r\n                      entity.addTag(`gonnaDie`);\r\n                      Minecraft.world.playSound(`bey_place_sound`, block.location, { volume: 10, pitch: 0.3 });\r\n                    });\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          });\r\n        },\r\n      });\r\n    });\r\n  }\r\n}\r\n","export const COMBINED_WEAPONS = [\r\n  {\r\n    typeId: \"minecraft:amethyst_shard\",\r\n    weapon: \"amy\",\r\n    displayItem: \"Ame\",\r\n    index: \"1\",\r\n    addable: \"Sword, Axe, Hammer, Scythe, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:nether_star\",\r\n    weapon: \"bea\",\r\n    displayItem: \"Net\",\r\n    index: \"2\",\r\n    addable: \"Sword, Axe, Hammer, Scythe, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:oak_leaves\",\r\n    weapon: \"cam\",\r\n    displayItem: \"Oak\",\r\n    index: \"3\",\r\n    addable: \"Sword\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:crying_obsidian\",\r\n    weapon: \"cry\",\r\n    displayItem: \"Cry\",\r\n    index: \"4\",\r\n    addable: \"Sword, Axe, Hammer, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:echo_shard\",\r\n    weapon: \"deep\",\r\n    displayItem: \"Ech\",\r\n    index: \"5\",\r\n    addable: \"Sword, Axe, Hammer, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:ochre_froglight\",\r\n    weapon: \"froglight\",\r\n    displayItem: \"Frg\",\r\n    index: \"6\",\r\n    addable: \"Sword\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:pearlescent_froglight\",\r\n    weapon: \"froglight\",\r\n    displayItem: \"Frg\",\r\n    index: \"6\",\r\n    addable: \"Sword, Axe, Hammer, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:verdant_froglight\",\r\n    weapon: \"froglight\",\r\n    displayItem: \"Frg\",\r\n    index: \"6\",\r\n    addable: \"Sword\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:enchanted_golden_apple\",\r\n    weapon: \"god\",\r\n    displayItem: \"Ega\",\r\n    index: \"7\",\r\n    addable: \"Sword, Axe, Scythe, Hammer\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:magma\",\r\n    weapon: \"magma\",\r\n    displayItem: \"Mag\",\r\n    index: \"8\",\r\n    addable: \"Sword, Axe, Scythe, Hammer, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:rabbit_foot\",\r\n    weapon: \"rabbit\",\r\n    displayItem: \"Rab\",\r\n    index: \"9\",\r\n    addable: \"Sword, Axe, Scythe\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:redstone\",\r\n    weapon: \"redstone\",\r\n    displayItem: \"Red\",\r\n    index: \"10\",\r\n    addable: \"Sword, Axe, Hammer, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:heart_of_the_sea\",\r\n    weapon: \"sea\",\r\n    displayItem: \"Sea\",\r\n    index: \"11\",\r\n    addable: \"Axe\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:tnt\",\r\n    weapon: \"tnt\",\r\n    displayItem: \"Tnt\",\r\n    index: \"12\",\r\n    addable: \"Sword\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:totem_of_undying\",\r\n    weapon: \"totem\",\r\n    displayItem: \"Tot\",\r\n    index: \"13\",\r\n    addable: \"Sword, Axe, Scythe, Hammer, Mace[Addons]\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:wither_rose\",\r\n    weapon: \"wither\",\r\n    displayItem: \"Wit\",\r\n    index: \"14\",\r\n    addable: \"Sword, Axe, Scythe\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:ominous_bottle\",\r\n    weapon: \"raid\",\r\n    displayItem: \"Rai\",\r\n    index: \"15\",\r\n    addable: \"Sword, Axe\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:blaze_powder\",\r\n    weapon: \"blaze\",\r\n    displayItem: \"Bla\",\r\n    index: \"16\",\r\n    addable: \"Sword, Axe, Scythe, Hammer\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:spore_blossom\",\r\n    weapon: \"spore\",\r\n    displayItem: \"Spo\",\r\n    index: \"17\",\r\n    addable: \"Sword, Scythe\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:clock\",\r\n    weapon: \"clock\",\r\n    displayItem: \"Clk\",\r\n    index: \"18\",\r\n    addable: \"Sword, Scythe, Hammer\",\r\n  },\r\n  {\r\n    typeId: \"minecraft:soul_sand\",\r\n    weapon: \"soul\",\r\n    displayItem: \"Sou\",\r\n    index: \"19\",\r\n    addable: \"Sword, Scythe, Mace[Addons]\",\r\n  },\r\n];\r\n","  export const CHANGEABLE_WEAPONS = [\r\n    { typeId: \"minecraft:iron_sword\", itemTag: \"is\" },\r\n    { typeId: \"minecraft:diamond_sword\", itemTag: \"ds\" },\r\n    { typeId: \"minecraft:netherite_sword\", itemTag: \"ns\" },\r\n    { typeId: \"minecraft:iron_axe\", itemTag: \"ia\" },\r\n    { typeId: \"minecraft:diamond_axe\", itemTag: \"da\" },\r\n    { typeId: \"minecraft:netherite_axe\", itemTag: \"na\" },\r\n    { typeId: \"bey:default_dh\", itemTag: \"dh\" },\r\n    { typeId: \"bey:default_ih\", itemTag: \"ih\" },\r\n    { typeId: \"bey:default_nh\", itemTag: \"nh\" },\r\n    { typeId: \"bey:default_dsc\", itemTag: \"dsc\" },\r\n    { typeId: \"bey:default_isc\", itemTag: \"isc\" },\r\n    { typeId: \"bey:defaut_nsc\", itemTag: \"nsc\" },\r\n    { typeId: \"bey:default_dm\", itemTag: \"dm\" },\r\n    { typeId: \"bey:default_im\", itemTag: \"im\" },\r\n    { typeId: \"bey:default_nm\", itemTag: \"nm\" },\r\n  ];","export const WEAPON_ABILITIES = [\r\n  // AMY\r\n  { weaponTag: \"amy\", abilityLore: \"§r§d[Passive] REGEN Buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"amy\", abilityLore: \"§r§d[Active] Interact To Get A HEALTH BOOST\", abilityIndex: 1 },\r\n  { weaponTag: \"amy\", abilityLore: \"§r§d[On-Hit] WEAK Foes On Hit\", abilityIndex: 2 },\r\n  { weaponTag: \"amy\", abilityLore: \"§r§d[On-Hurt] AoE WEAKNESS On Hurt\", abilityIndex: 3 },\r\n\r\n  // BEA\r\n  { weaponTag: \"bea\", abilityLore: \"§r§d[Passive] SPEED Buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"bea\", abilityLore: \"§r§d[Active] Interact To Get A COMBINED BUFF\", abilityIndex: 1 },\r\n  { weaponTag: \"bea\", abilityLore: \"§r§d[On-Hit] STUN Foes On Hit\", abilityIndex: 2 },\r\n  { weaponTag: \"bea\", abilityLore: \"§r§d[On-Hurt] Summon LIGHTNING On Hurt\", abilityIndex: 3 },\r\n\r\n  // CAM\r\n  { weaponTag: \"cam\", abilityLore: \"§r§d[Passive] Small SPEED Buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"cam\", abilityLore: \"§r§d[Active] Interact To Go INVISIBLE for a while\", abilityIndex: 1 },\r\n  { weaponTag: \"cam\", abilityLore: \"§r§d[On-Hit] Effect Foes With DARKNESS\", abilityIndex: 2 },\r\n  { weaponTag: \"cam\", abilityLore: \"§r§d[On-Hurt] Blind Nearby Foes\", abilityIndex: 3 },\r\n\r\n  // CRY\r\n  { weaponTag: \"cry\", abilityLore: \"§r§d[Passive] POISON AND WITHER Removal\", abilityIndex: 0 },\r\n  { weaponTag: \"cry\", abilityLore: \"§r§d[Active] Interact To Get Buff For a SACRIFICE\", abilityIndex: 1 },\r\n  { weaponTag: \"cry\", abilityLore: \"§r§d[On-Hit] Effect Foes With FATAL POISON\", abilityIndex: 2 },\r\n  { weaponTag: \"cry\", abilityLore: \"§r§d[On-Hurt] Apply Slow & Resistance\", abilityIndex: 3 },\r\n\r\n  // DEEP\r\n  { weaponTag: \"deep\", abilityLore: \"§r§d[Passive] Small RESISTANCE Buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"deep\", abilityLore: \"§r§d[Active] Interact To Summon WARDEN SPIRITS\", abilityIndex: 1 },\r\n  { weaponTag: \"deep\", abilityLore: \"§r§d[On-Hit] Cause BLINDNESS On Hit\", abilityIndex: 2 },\r\n  { weaponTag: \"deep\", abilityLore: \"§r§d[On-Hurt] Apply KNOCKBACK on Hit\", abilityIndex: 3 },\r\n\r\n  // FROGLIGHT\r\n  { weaponTag: \"froglight\", abilityLore: \"§r§d[Passive] Small JUMPBOOST Buff\", abilityIndex: 0 },\r\n  { weaponTag: \"froglight\", abilityLore: \"§r§d[Active] Interact To BOUNCE foes\", abilityIndex: 1 },\r\n  { weaponTag: \"froglight\", abilityLore: \"§r§d[On-Hit] Cause LEVITATION On Hit\", abilityIndex: 2 },\r\n  { weaponTag: \"froglight\", abilityLore: \"§r§d[On-Hurt] Leap Upwards Instantly\", abilityIndex: 3 },\r\n\r\n  // GOD\r\n  { weaponTag: \"god\", abilityLore: \"§r§d[Passive] IMMUNITY to ALL Debuffs When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"god\", abilityLore: \"§r§d[Active] Interact To Summon DIVINE LIGHTNING\", abilityIndex: 1 },\r\n  { weaponTag: \"god\", abilityLore: \"§r§d[On-Hit] Gain INVINCIBILITY (2s) On Hit\", abilityIndex: 2 },\r\n  { weaponTag: \"god\", abilityLore: \"§r§d[On-Hurt] SMITE Nearby Undead Enemies\", abilityIndex: 3 },\r\n\r\n  // MAGMA\r\n  { weaponTag: \"magma\", abilityLore: \"§r§d[Passive] FIRE Resistance When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"magma\", abilityLore: \"§r§d[Active] Interact To Summon FIREBALLS\", abilityIndex: 1 },\r\n  { weaponTag: \"magma\", abilityLore: \"§r§d[On-Hit] Set Foes On FIRE\", abilityIndex: 2 },\r\n  { weaponTag: \"magma\", abilityLore: \"§r§d[On-Hurt] Set Nearby Foes on FIRE\", abilityIndex: 3 },\r\n\r\n  // RABBIT\r\n  { weaponTag: \"rabbit\", abilityLore: \"§r§d[Passive] JUMP Boost When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"rabbit\", abilityLore: \"§r§d[Active] Interact To Double Your JUMP HEIGHT\", abilityIndex: 1 },\r\n  { weaponTag: \"rabbit\", abilityLore: \"§r§d[On-Hit] BOUNCE on hit\", abilityIndex: 2 },\r\n  { weaponTag: \"rabbit\", abilityLore: \"§r§d[On-Hurt] Gain SPEED Boost\", abilityIndex: 3 },\r\n\r\n  // REDSTONE\r\n  { weaponTag: \"redstone\", abilityLore: \"§r§d[Passive] High Speed Buff when hurt [cd 4sec]\", abilityIndex: 0 },\r\n  { weaponTag: \"redstone\", abilityLore: \"§r§d[Active] Interact To BOOST Mining Speed\", abilityIndex: 1 },\r\n  { weaponTag: \"redstone\", abilityLore: \"§r§d[On-Hit] STRENGTH buff on hit\", abilityIndex: 2 },\r\n  { weaponTag: \"redstone\", abilityLore: \"§r§d[On-Hurt] Gain SPEED Boost\", abilityIndex: 3 },\r\n\r\n  // SEA\r\n  { weaponTag: \"sea\", abilityLore: \"§r§d[Passive] SWIMMING buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"sea\", abilityLore: \"§r§d[Active] Interact for WATER BREATHING\", abilityIndex: 1 },\r\n  { weaponTag: \"sea\", abilityLore: \"§r§d[On-Hit] SLOW Foes on hit\", abilityIndex: 2 },\r\n  { weaponTag: \"sea\", abilityLore: \"§r§d[On-Hurt] Summon RESISTANCE Buff\", abilityIndex: 3 },\r\n\r\n  // TNT\r\n  { weaponTag: \"tnt\", abilityLore: \"§r§d[Passive] EXPLOSION Resistance When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"tnt\", abilityLore: \"§r§d[Active] Interact To Create EXPLOSIONS\", abilityIndex: 1 },\r\n  { weaponTag: \"tnt\", abilityLore: \"§r§d[On-Hit] Detonate A SMALL EXPLOSION\", abilityIndex: 2 },\r\n  { weaponTag: \"tnt\", abilityLore: \"§r§d[On-Hurt] Summon BLINDNESS FIELD\", abilityIndex: 3 },\r\n\r\n  // TOTEM\r\n  { weaponTag: \"totem\", abilityLore: \"§r§d[Passive] ABSORPTION buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"totem\", abilityLore: \"§r§d[Active] Interact replaces HUNGER for HEALING\", abilityIndex: 1 },\r\n  { weaponTag: \"totem\", abilityLore: \"§r§d[On-Hit] Instantly HEAL Self On Hit\", abilityIndex: 2 },\r\n  { weaponTag: \"totem\", abilityLore: \"§r§d[On-Hurt] Summon RESISTANCE Buff\", abilityIndex: 3 },\r\n\r\n  // WITHER\r\n  { weaponTag: \"wither\", abilityLore: \"§r§d[Passive] WITHER Resistance When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"wither\", abilityLore: \"§r§d[Active] WITHER mobs around you\", abilityIndex: 1 },\r\n  { weaponTag: \"wither\", abilityLore: \"§r§d[On-Hit] Inflict WITHER Effect\", abilityIndex: 2 },\r\n  { weaponTag: \"wither\", abilityLore: \"§r§d[On-Hurt] Summon AoE WITHER\", abilityIndex: 3 },\r\n\r\n  // BLAZE\r\n  { weaponTag: \"blaze\", abilityLore: \"§r§d[Passive] SPEED buff When Holding\", abilityIndex: 0 },\r\n  { weaponTag: \"blaze\", abilityLore: \"§r§d[Active] DASH and set mobs on fire around you\", abilityIndex: 1 },\r\n  { weaponTag: \"blaze\", abilityLore: \"§r§d[On-Hit] 40% Chance to burn the enemy\", abilityIndex: 2 },\r\n  { weaponTag: \"blaze\", abilityLore: \"§r§d[On-Hurt] 80% Chace to burn the attacker\", abilityIndex: 3 },\r\n\r\n  // RAID\r\n  { weaponTag: \"raid\", abilityLore: \"§r§d[Passive] Extra Damage To Illager Type Mobs\", abilityIndex: 0 },\r\n  { weaponTag: \"raid\", abilityLore: \"§r§d[Active] Curse Entities Around\", abilityIndex: 1 },\r\n  { weaponTag: \"raid\", abilityLore: \"§r§d[On-Hit] Curse The Enemy\", abilityIndex: 2 },\r\n  { weaponTag: \"raid\", abilityLore: \"§r§d[On-Hurt] Curse The Attacker\", abilityIndex: 3 },\r\n\r\n  // SPORE\r\n  { weaponTag: \"spore\", abilityLore: \"§r§d[Passive] Increased Damage While Poisoned\", abilityIndex: 0 },\r\n  { weaponTag: \"spore\", abilityLore: \"§r§d[Active] Turn Poison Into Pleasure\", abilityIndex: 1 },\r\n  { weaponTag: \"spore\", abilityLore: \"§r§d[On-Hit] Poison The Enemy\", abilityIndex: 2 },\r\n  { weaponTag: \"spore\", abilityLore: \"§r§d[On-Hurt] AoE Poison Where you are hurt\", abilityIndex: 3 },\r\n\r\n  // CLOCK\r\n  { weaponTag: \"clock\", abilityLore: \"§r§d[Passive] SLOW Nearby Enemies Over Time\", abilityIndex: 0 },\r\n  { weaponTag: \"clock\", abilityLore: \"§r§d[Active] Interact To Freeze Entities Briefly\", abilityIndex: 1 },\r\n  { weaponTag: \"clock\", abilityLore: \"§r§d[On-Hit] Infect Hurt With Weakness\", abilityIndex: 2 },\r\n  { weaponTag: \"clock\", abilityLore: \"§r§d[On-Hurt] Rewind A Portion Of Taken Damage\", abilityIndex: 3 },\r\n\r\n  // SOUL\r\n  { weaponTag: \"soul\", abilityLore: \"§r§d[Passive] Drop SOULS from defeated enemies\", abilityIndex: 0 },\r\n  { weaponTag: \"soul\", abilityLore: \"§r§d[Active] Interact To UNLEASH Stored SOULS as HEALTH\", abilityIndex: 1 },\r\n  { weaponTag: \"soul\", abilityLore: \"§r§d[On-Hit] Steal A PORTION of Enemy Health\", abilityIndex: 2 },\r\n  { weaponTag: \"soul\", abilityLore: \"§r§d[On-Hurt] Drop SOULS from getting hurt\", abilityIndex: 3 },\r\n];\r\n","import * as Minecraft from \"@minecraft/server\";\n\nexport function weapon_passive() {\n  Minecraft.system.runInterval(() => {\n    Minecraft.world.getAllPlayers().forEach((player) => {\n      let playerHeld = (player.getComponent(`equippable`) as Minecraft.EntityEquippableComponent).getEquipment(\n        Minecraft.EquipmentSlot.Mainhand\n      );\n      if (playerHeld == undefined) return;\n      let currentLore = playerHeld.getLore();\n      let passiveCooldown = player.getDynamicProperty(`passive_ability_cooldown`) || 0;\n      let passivekncok = player.getDynamicProperty(`passive_ability_knock`) || 0;\n      let passiveSpeed = player.getDynamicProperty(`passive_ability_speed`) || 0;\n      let { x, y, z } = player.getViewDirection();\n\n      if (!passiveCooldown) {\n        player.setDynamicProperty(`passive_ability_cooldown`, 0);\n      }\n      if (!passivekncok) {\n        player.setDynamicProperty(`passive_ability_knock`, 0);\n      }\n      if (!passiveSpeed) {\n        player.setDynamicProperty(`passive_ability_speed`, 0);\n      }\n      if (typeof passivekncok == `number` && passivekncok > 0) {\n        player.setDynamicProperty(`passive_ability_knock`, passivekncok + 1);\n      }\n      if (typeof passiveSpeed == `number` && passiveSpeed > 0) {\n        player.setDynamicProperty(`passive_ability_speed`, passiveSpeed + 1);\n      }\n\n      if (typeof passiveCooldown == `number`) {\n        switch (true) {\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] REGEN Buff When Holding\"):\n            player.setDynamicProperty(`passive_ability_cooldown`, passiveCooldown + 1);\n            if (passiveCooldown == 1) {\n              player.addEffect(`regeneration`, 20, { amplifier: 2 });\n            }\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] SPEED Buff When Holding\"):\n            player.addEffect(`speed`, 20, { amplifier: 1 });\n            break;\n          case currentLore &&\n            currentLore.some((line: string) => line === \"§r§d[Passive] Small SPEED Buff When Holding\"):\n            player.addEffect(`speed`, 20, { amplifier: 0 });\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] POISON AND WITHER Removal\"):\n            player.setDynamicProperty(`passive_ability_cooldown`, passiveCooldown + 1);\n            if (passiveCooldown == 1) {\n              player.runCommand(`/effect @s wither 0 0 true`);\n              player.runCommand(`/effect @s poison 0 0 true`);\n            }\n            break;\n          case currentLore &&\n            currentLore.some((line: string) => line === \"§r§d[Passive] Small RESISTANCE Buff When Holding\"):\n            player.addEffect(`resistance`, 20, { amplifier: 1 });\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] Small JUMPBOOST Buff\"):\n            player.addEffect(`jump_boost`, 20, { amplifier: 0 });\n            break;\n          case currentLore &&\n            currentLore.some((line: string) => line === \"§r§d[Passive] IMMUNITY to ALL Debuffs When Holding\"):\n            player.setDynamicProperty(`passive_ability_cooldown`, passiveCooldown + 1);\n            if (passiveCooldown == 1) {\n              player.runCommand(`/effect @s wither 0 0 true`);\n              player.runCommand(`/effect @s poison 0 0 true`);\n              player.runCommand(`/effect @s blindness 0 0 true`);\n              player.runCommand(`/effect @s darkness 0 0 true`);\n              player.runCommand(`/effect @s hunger 0 0 true`);\n              player.runCommand(`/effect @s mining_fatigue 0 0 true`);\n              player.runCommand(`/effect @s nausea 0 0 true`);\n              player.runCommand(`/effect @s slowness 0 0 true`);\n              player.runCommand(`/effect @s weakness 0 0 true`);\n            }\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] FIRE Resistance When Holding\"):\n            player.addEffect(`fire_resistance`, 20, { amplifier: 0 });\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] DAMAGE ENDERMAN around you\"):\n            player.setDynamicProperty(`passive_ability_cooldown`, passiveCooldown + 1);\n            player.dimension.getEntities({ maxDistance: 6, location: player.location }).forEach((entity) => {\n              if (entity.typeId == \"minecraft:enderman\") {\n                if (passiveCooldown == 1) {\n                  entity.runCommand(`/damage @s 15`);\n                }\n              }\n            });\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] JUMP Boost When Holding\"):\n            player.addEffect(`jump_boost`, 20, { amplifier: 1 });\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] SWIMMING buff When Holding\"):\n            if (player.isSwimming) {\n              player.applyKnockback(x, z, 0.6, 0);\n            }\n            break;\n          case currentLore &&\n            currentLore.some((line: string) => line === \"§r§d[Passive] EXPLOSION Resistance When Holding\"):\n            player.addEffect(`resistance`, 20, { amplifier: 3 });\n            break;\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] ABSORPTION buff When Holding\"):\n            player.setDynamicProperty(`passive_ability_cooldown`, passiveCooldown + 1);\n            if (passiveCooldown == 1) {\n              player.addEffect(`absorption`, 20, { amplifier: 1 });\n            }\n            break;\n          case currentLore &&\n            currentLore.some((line: string) => line === \"§r§d[Passive] WITHER Resistance When Holding\"):\n            if (passiveCooldown == 1) {\n              player.runCommand(`/effect @s wither 0 0 true`);\n            }\n            break;\n\n          case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] SPEED buff When Holding\"):\n            player.addEffect(`speed`, 20, { amplifier: 2 });\n            break;\n          case currentLore &&\n            currentLore.some((line: string) => line === \"§r§d[Passive] SLOW Nearby Enemies Over Time\"):\n            player.dimension.getEntities({ maxDistance: 4, location: player.location }).forEach((enity) => {\n              if (enity.nameTag != player.name) {\n                enity.addEffect(`slowness`, 8, { amplifier: 0 });\n              }\n            });\n            break;\n        }\n      }\n      if (typeof passiveCooldown == `number` && typeof passiveSpeed == `number` && typeof passivekncok == `number`) {\n        if (passiveCooldown > 30) {\n          player.setDynamicProperty(`passive_ability_cooldown`, 0);\n        }\n        if (passiveSpeed > 80) {\n          player.setDynamicProperty(`passive_ability_speed`, 0);\n        }\n        if (passivekncok > 160) {\n          player.setDynamicProperty(`passive_ability_knock`, 0);\n        }\n      }\n    });\n  });\n\n  Minecraft.world.afterEvents.entityHitEntity.subscribe((event) => {\n    let player = event.hitEntity;\n    if (player.typeId != \"minecraft:player\") return;\n\n    let hurtEntity = event.damagingEntity;\n    let playerHeld = (player.getComponent(`equippable`) as Minecraft.EntityEquippableComponent).getEquipment(\n      Minecraft.EquipmentSlot.Mainhand\n    );\n    if (playerHeld == undefined) return;\n    let currentLore = playerHeld.getLore();\n\n    let passivekncok = player.getDynamicProperty(`passive_ability_knock`);\n    let speedkncok = player.getDynamicProperty(`passive_ability_speed`);\n\n    if (player.typeId != \"minecraft:player\") return;\n\n    switch (true) {\n      case currentLore &&\n        currentLore.some((line: string) => line === \"§r§d[Passive] KNOCK foes that hit you [cd 8sec]\"):\n        if (playerHeld && passivekncok == 0) {\n          player.runCommand(`/scriptevent beyond:knockback`);\n          player.setDynamicProperty(`passive_ability_knock`, passivekncok + 1);\n        }\n        break;\n      case currentLore &&\n        currentLore.some((line: string) => line === \"§r§d[Passive] High Speed Buff when hurt [cd 4sec]\"):\n        if (playerHeld && speedkncok == 0) {\n          player.setDynamicProperty(`passive_ability_speed`, speedkncok + 1);\n          player.addEffect(`speed`, 40, { amplifier: 3 });\n        }\n        break;\n    }\n  });\n  Minecraft.world.afterEvents.entityHitEntity.subscribe((event) => {\n    let player = event.damagingEntity;\n    if (player.typeId != \"minecraft:player\") return;\n\n    let hurtEntity = event.hitEntity;\n    let playerHeld = (player.getComponent(`equippable`) as Minecraft.EntityEquippableComponent).getEquipment(\n      Minecraft.EquipmentSlot.Mainhand\n    );\n    if (playerHeld == undefined) return;\n    let currentLore = playerHeld.getLore();\n\n    if (player.typeId != \"minecraft:player\") return;\n\n    switch (true) {\n      case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] Increased Damage While Poisoned\"):\n        if (\n          player.getEffect(\"minecraft:wither\") ||\n          player.getEffect(\"minecraft:poison\") ||\n          player.getEffect(\"fatal_poison\")\n        ) {\n          hurtEntity.applyDamage(7, { cause: Minecraft.EntityDamageCause.suicide });\n        }\n        break;\n      case currentLore &&\n        currentLore.some((line: string) => line === \"§r§d[Passive] Extra Damage To Illager Type Mobs\"):\n        const ILLAGER_MOBS = [\n          \"minecraft:pillager\",\n          \"minecraft:evocation_illager\",\n          \"minecraft:vindicator\",\n          \"minecraft:ravager\",\n          \"minecraft:witch\",\n        ];\n\n        if (hurtEntity && ILLAGER_MOBS.includes(hurtEntity.typeId)) {\n          hurtEntity.applyDamage(6, { cause: Minecraft.EntityDamageCause.suicide });\n        }\n        break;\n    }\n  });\n\n  Minecraft.world.afterEvents.entityDie.subscribe((event) => {\n    let player = event.damageSource.damagingEntity;\n    let deadEntity = event.deadEntity;\n\n    if (player == undefined) return;\n\n    let playerHeld = (player.getComponent(`equippable`) as Minecraft.EntityEquippableComponent).getEquipment(\n      Minecraft.EquipmentSlot.Mainhand\n    );\n    if (playerHeld == undefined) return;\n    let currentLore = playerHeld.getLore();\n\n    switch (true) {\n      case currentLore && currentLore.some((line: string) => line === \"§r§d[Passive] Drop SOULS from defeated enemies\"):\n        const item = new Minecraft.ItemStack(`beyond:soul`, 1);\n        if (Math.random() <= 0.5) {\n          deadEntity.dimension.spawnItem(item, deadEntity.location);\n        }\n        break;\n    }\n  });\n\n  //Script-Events\n  Minecraft.system.afterEvents.scriptEventReceive.subscribe(({ id, sourceEntity: player }) => {\n    if (!player || id !== \"beyond:knockback\") return;\n\n    const entities = player.dimension.getEntities({ location: player.location, maxDistance: 6 });\n\n    for (const entity of entities) {\n      if (entity.id === player.id) continue;\n      const { x, z } = Vector.subtract(entity.location, player.location);\n      entity?.applyKnockback(x, z, 3, 0.8);\n    }\n  });\n}\n\ninterface Vector3D {\n  x: number;\n  y: number;\n  z: number;\n}\n\nexport class Vector {\n  static multiply(vectorA: Vector3D, value: number | Vector3D): Vector3D {\n    return {\n      x: vectorA.x * (typeof value === \"number\" ? value : value.x),\n      y: vectorA.y * (typeof value === \"number\" ? value : value.y),\n      z: vectorA.z * (typeof value === \"number\" ? value : value.z),\n    };\n  }\n\n  static add(vectorA: Vector3D, vectorB: Vector3D): Vector3D {\n    return {\n      x: vectorA.x + (vectorB.x ?? 0),\n      y: vectorA.y + (vectorB.y ?? 0),\n      z: vectorA.z + (vectorB.z ?? 0),\n    };\n  }\n\n  static subtract(vectorA: Vector3D, vectorB: Vector3D): Vector3D {\n    return {\n      x: vectorA.x - (vectorB.x ?? 0),\n      y: vectorA.y - (vectorB.y ?? 0),\n      z: vectorA.z - (vectorB.z ?? 0),\n    };\n  }\n\n  static distance(vectorA: Vector3D, vectorB: Vector3D): number {\n    return Math.sqrt(\n      Math.pow(vectorA.x - vectorB.x, 2) + Math.pow(vectorA.y - vectorB.y, 2) + Math.pow(vectorA.z - vectorB.z, 2)\n    );\n  }\n}\n","import * as Minecraft from \"@minecraft/server\";\n\nexport function weapon_onhurt() {\n  Minecraft.system.runInterval(() => {\n    Minecraft.world.getAllPlayers().forEach((player) => {\n      let onHurtCooldown = player.getDynamicProperty(`on_hurt_cooldown`);\n      if (!onHurtCooldown) {\n        player.setDynamicProperty(`on_hurt_cooldown`, 0);\n      }\n      if (typeof onHurtCooldown === \"number\") {\n        if (onHurtCooldown > 0) {\n          player.setDynamicProperty(`on_hurt_cooldown`, onHurtCooldown + 1);\n        }\n        if (onHurtCooldown > 400) {\n          player.setDynamicProperty(`on_hurt_cooldown`, 0);\n        }\n      }\n    });\n  });\n\n  Minecraft.world.afterEvents.entityHurt.subscribe((event) => {\n    let damage = event.damage;\n    let player = event.hurtEntity;\n\n    if (player == undefined) return;\n    if (player.typeId !== \"minecraft:player\") return;\n\n    let onHurtCooldown = player.getDynamicProperty(\"on_hurt_cooldown\") || 0;\n\n    let playerHeld = (player.getComponent(`equippable`) as Minecraft.EntityEquippableComponent).getEquipment(\n      Minecraft.EquipmentSlot.Mainhand\n    );\n    if (playerHeld == undefined) return;\n\n    let currentLore = playerHeld.getLore();\n    if (!currentLore) return;\n\n    switch (true) {\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Rewind A Portion Of Taken Damage\") &&\n        onHurtCooldown === 0: {\n        let playerHealth = player.getComponent(\"health\") as Minecraft.EntityHealthComponent;\n        const damageToAdd = [];\n\n        let remaining = damage;\n        while (remaining > 0) {\n          if (remaining >= 2) {\n            damageToAdd.push(2);\n            remaining -= 2;\n          } else {\n            damageToAdd.push(remaining);\n            remaining = 0;\n          }\n        }\n\n        damageToAdd.forEach((damage, index) => {\n          Minecraft.system.runTimeout(() => {\n            playerHealth.setCurrentValue(playerHealth.currentValue + damage);\n          }, 15 * index);\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n\n        break;\n      }\n    }\n  });\n\n  Minecraft.world.afterEvents.entityHitEntity.subscribe((event) => {\n    let player = event.hitEntity;\n    if (!player || player.typeId !== \"minecraft:player\") return;\n    let hurtingEntity = event.damagingEntity;\n\n    let onHurtCooldown = player.getDynamicProperty(\"on_hurt_cooldown\") || 0;\n\n    let playerHeld = (player.getComponent(`equippable`) as Minecraft.EntityEquippableComponent).getEquipment(\n      Minecraft.EquipmentSlot.Mainhand\n    );\n    if (playerHeld == undefined) return;\n\n    let currentLore = playerHeld.getLore();\n    if (!currentLore) return;\n\n    switch (true) {\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Drop SOULS from getting hurt\") &&\n        onHurtCooldown === 0:\n        let newItem = new Minecraft.ItemStack(\"bey:soiled_soul\", 1);\n        if (Math.random() <= 0.2) {\n          player.dimension.spawnItem(newItem, player.location);\n        }\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] AoE Poison Where you are hurt\") &&\n        onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (entity.nameTag != player.nameTag) {\n            entity.addEffect(`poison`, 60, { amplifier: 2 });\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 300);\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (entity.nameTag != player.nameTag) {\n            entity.addEffect(`weakness`, 60, { amplifier: 1 });\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 300);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Summon LIGHTNING On Hurt\") &&\n        onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.addEffect(`fire_resistance`, 60, { amplifier: 1 });\n        hurtingEntity.runCommand(`/summon lightning_bolt ~~~`);\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Blind Nearby Foes\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (entity.nameTag != player.nameTag) {\n            entity.addEffect(`blindness`, 60, { amplifier: 1 });\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Apply Slow & Resistance\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.addEffect(`slowness`, 60, { amplifier: 1 }), player.addEffect(`resistance`, 60, { amplifier: 2 });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Apply KNOCKBACK on Hit\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.runCommand(`/scriptevent beyond:knockback`);\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Leap Upwards Instantly\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        let { x, y, z } = player.getViewDirection();\n        player.applyKnockback(x, y, 0, 0.6);\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] SMITE Nearby Undead Enemies\") &&\n        onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        const KILLABLE_UNDEAD = [\n          \"minecraft:zombie\",\n          \"minecraft:skeleton\",\n          \"minecraft:creeper\",\n          \"minecraft:zombified_pigmen\",\n          \"minecraft:wither_skeleton\",\n        ];\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (KILLABLE_UNDEAD.includes(entity.typeId)) {\n            entity.runCommand(`/kill @s`);\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Set Nearby Foes on FIRE\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (entity.nameTag != player.nameTag) {\n            entity.setOnFire(3);\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 200);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Gain SPEED Boost\" && onHurtCooldown === 0):\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.addEffect(`speed`, 30, { amplifier: 1 });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 200);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Summon RESISTANCE Buff\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.addEffect(`resistance`, 30, { amplifier: 1 });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 200);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Summon BLINDNESS FIELD\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (entity.nameTag != player.nameTag) {\n            entity.addEffect(`blindness`, 20, { amplifier: 1 });\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Summon AoE WITHER\") && onHurtCooldown === 0:\n        player.dimension.spawnEntity(\"bey:radius_entity\", player.location);\n\n        player.dimension.getEntities({ maxDistance: 3, location: player.location }).forEach((entity) => {\n          if (entity.nameTag != player.nameTag) {\n            entity.addEffect(`wither`, 60, { amplifier: 100 });\n          }\n        });\n\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] 40% Chace to burn the attacker\") &&\n        onHurtCooldown === 0:\n        let randomX = Math.random();\n        if (randomX <= 0.4) {\n          hurtingEntity.setOnFire(5);\n          player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        }\n        break;\n\n      case currentLore.some((line: string) => line === \"§r§d[On-Hurt] Curse The Attacker\") && onHurtCooldown === 0:\n        hurtingEntity.addTag(`Cursed`);\n        hurtingEntity.setDynamicProperty(`Cursed`, 1);\n        player.setDynamicProperty(\"on_hurt_cooldown\", 1);\n        break;\n    }\n  });\n\n  Minecraft.system.afterEvents.scriptEventReceive.subscribe(({ id, sourceEntity: player }) => {\n    if (!player || id !== \"beyond:knockback\") return;\n\n    const entities = player.dimension.getEntities({ location: player.location, maxDistance: 6 });\n\n    for (const entity of entities) {\n      if (entity.id === player.id) continue;\n      const { x, z } = Vector.subtract(entity.location, player.location);\n      entity?.applyKnockback(x, z, 3, 0.8);\n    }\n  });\n}\n\ninterface Vector3D {\n  x: number;\n  y: number;\n  z: number;\n}\n\nexport class Vector {\n  static multiply(vectorA: Vector3D, value: number | Vector3D): Vector3D {\n    return {\n      x: vectorA.x * (typeof value === \"number\" ? value : value.x),\n      y: vectorA.y * (typeof value === \"number\" ? value : value.y),\n      z: vectorA.z * (typeof value === \"number\" ? value : value.z),\n    };\n  }\n\n  static add(vectorA: Vector3D, vectorB: Vector3D): Vector3D {\n    return {\n      x: vectorA.x + (vectorB.x ?? 0),\n      y: vectorA.y + (vectorB.y ?? 0),\n      z: vectorA.z + (vectorB.z ?? 0),\n    };\n  }\n\n  static subtract(vectorA: Vector3D, vectorB: Vector3D): Vector3D {\n    return {\n      x: vectorA.x - (vectorB.x ?? 0),\n      y: vectorA.y - (vectorB.y ?? 0),\n      z: vectorA.z - (vectorB.z ?? 0),\n    };\n  }\n\n  static distance(vectorA: Vector3D, vectorB: Vector3D): number {\n    return Math.sqrt(\n      Math.pow(vectorA.x - vectorB.x, 2) + Math.pow(vectorA.y - vectorB.y, 2) + Math.pow(vectorA.z - vectorB.z, 2)\n    );\n  }\n}\n","import { WeaponCombiner } from \"./weapon_combiner\";\r\nimport { weapon_passive } from \"./weapon_ability_passive\";\r\nimport { weapon_onhurt } from \"./weapon_ability_onhurt\";\r\n\r\nimport { Player, system, world } from \"@minecraft/server\";\r\nimport { itemUseHandler } from \"./handelers/itemUse\";\r\nimport { entityHitEntityHandler } from \"./handelers/entityHitEntity\";\r\nimport { runInterval } from \"./handelers/runInterval\";\r\n\r\nworld.afterEvents.itemUse.subscribe(({ source, itemStack }) => {\r\n  itemUseHandler.itemUseHandler(itemStack, source);\r\n});\r\n\r\nworld.afterEvents.entityHitEntity.subscribe(({ damagingEntity, hitEntity }) => {\r\n  if (damagingEntity instanceof Player) {\r\n    entityHitEntityHandler.entityHitEntityHandler(damagingEntity, hitEntity);\r\n  }\r\n});\r\n\r\nsystem.runInterval(() => {\r\n  runInterval.runInterval();\r\n});\r\n\r\nweapon_passive();\r\nweapon_onhurt();\r\nfunction initialize() {\r\n  new WeaponCombiner();\r\n}\r\n\r\ninitialize();\r\n","import {\r\n  world,\r\n  system,\r\n  Player,\r\n  Entity,\r\n  ItemStack,\r\n  EntityInventoryComponent,\r\n  EntityHealthComponent,\r\n  EntityDamageCause,\r\n} from \"@minecraft/server\";\r\n\r\ntype AbilityFn = (player: Player, held: ItemStack) => void;\r\n\r\nexport class activeAbilities {\r\n  static _unleashSouls: AbilityFn = (p) => {\r\n    const inv = p.getComponent(\"inventory\") as EntityInventoryComponent;\r\n    let soulCount = 0;\r\n    let container = inv.container;\r\n    if (container) {\r\n      for (let i = 0; i < container.size; i++) {\r\n        const item = container.getItem(i);\r\n        if (item?.typeId === \"beyond:soul\") {\r\n          soulCount += item.amount;\r\n        }\r\n      }\r\n    }\r\n    if (!soulCount) {\r\n      p.runCommand(`tellraw @s {\"rawtext\":[{\"text\":\"§l§4You don't have §dSOULS\"}]}`);\r\n      return;\r\n    }\r\n    const hp = p.getComponent(\"health\") as EntityHealthComponent;\r\n    hp.setCurrentValue(Math.min(hp.currentValue + Math.floor(soulCount * 2.5), hp.defaultValue));\r\n    p.runCommand(`/clear @s beyond:soul 0 1`);\r\n    world.playSound(\"beacon.activate\", p.location);\r\n  };\r\n\r\n  static _poisonToRegen: AbilityFn = (p) => {\r\n    if (p.getEffect(\"minecraft:wither\") || p.getEffect(\"minecraft:poison\") || p.getEffect(\"fatal_poison\")) {\r\n      p.addEffect(\"regeneration\", 200, { amplifier: 2 });\r\n      p.runCommand(`/effect @s wither 0 0`);\r\n      p.runCommand(`/effect @s poison 0 0`);\r\n      p.runCommand(`/effect @s fatal_poison 0 0`);\r\n    } else {\r\n      p.runCommand(`tellraw @s {\"rawtext\":[{\"text\":\"§2You don't have §dPoison or Wither\"}]}`);\r\n    }\r\n  };\r\n\r\n  static _selfSacrifice: AbilityFn = (p) => {\r\n    p.applyDamage(6);\r\n    p.addEffect(\"speed\", 100, { amplifier: 2 });\r\n    p.addEffect(\"strength\", 100, { amplifier: 0 });\r\n  };\r\n\r\n  static _wardenSpirits: AbilityFn = (p) => {\r\n    const replaceableBlocks = [\"grass_block\", \"stone\", \"andesite\", \"granite\", \"diorite\", \"gravel\"];\r\n    p.dimension.playSound(`entity.warden.attack`, p.location);\r\n\r\n    for (let i = 1; i <= 18; i++) {\r\n      p.dimension.playSound(\"mob.warden.attack\", p.location, { volume: 10, pitch: 0.9 });\r\n      p.runCommand(`execute at @s positioned ^ ^1.5 ^${i * 2} run particle minecraft:sonic_explosion ~~~`);\r\n\r\n      system.runTimeout(() => {\r\n        p.getEntitiesFromViewDirection({ maxDistance: 28 }).forEach((entity) => {\r\n          const e = entity.entity;\r\n          const viewDir = e.getViewDirection();\r\n          e.applyKnockback(viewDir.x, viewDir.y, 0.6, 0.6);\r\n          e.applyDamage(15, { cause: EntityDamageCause.selfDestruct });\r\n\r\n          for (let x = -3; x <= 3; x++) {\r\n            for (let z = -3; z <= 3; z++) {\r\n              if (Math.random() < 0.06) {\r\n                replaceableBlocks.forEach((blockType) => {\r\n                  e.runCommand(`fill ~${x} ~-4 ~${z} ~${x} ~3 ~${z} minecraft:sculk replace minecraft:${blockType}`);\r\n                });\r\n                if (Math.random() < 0.005) {\r\n                  e.runCommand(`fill ~${x} ~-2 ~${z} ~${x} ~ ~${z} minecraft:sculk_sensor replace air`);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  static _bounceFoes: AbilityFn = (p) => {\r\n    p.dimension.getEntities({ location: p.location, maxDistance: 5 }).forEach((entity) => {\r\n      if (entity.id === p.id) return;\r\n      let { x, y, z } = entity.location;\r\n      entity.applyKnockback(x, y, 0, 1.3);\r\n      p.runCommand(`playsound mob.slime.jump @s ~ ~ ~ 1 1`);\r\n    });\r\n  };\r\n\r\n  static _divineLightning: AbilityFn = (p) => {\r\n    p.dimension.getEntities({ maxDistance: 8, location: p.location }).forEach((entity: Entity) => {\r\n      if (entity.nameTag !== p.nameTag && entity.typeId !== \"minecraft:wolf\" && entity.typeId !== \"minecraft:cat\") {\r\n        p.dimension.spawnEntity(\"bey:radius_entity\", p.location);\r\n        entity.dimension.spawnEntity(\"lightning_bolt\", entity.location);\r\n      }\r\n      p;\r\n    });\r\n  };\r\n\r\n  static _doubleJump: AbilityFn = (p) => {\r\n    let { x, y, z } = p.location;\r\n    if (!p.isOnGround) {\r\n      p.applyKnockback(x, y, 0, 0.9);\r\n    }\r\n    p.runCommand(`playsound mob.slime.jump @s ~ ~ ~ 1 1`);\r\n  };\r\n\r\n  static _createExplosions: AbilityFn = (p: Player) => {\r\n    p.dimension.spawnEntity(\"tnt\", p.location);\r\n    p.onScreenDisplay.setTitle(\"§l§4RUN !!!!!\");\r\n  };\r\n\r\n  static _curseEntities: AbilityFn = (p) => {\r\n    p.dimension.getEntities({ maxDistance: 5, location: p.location }).forEach((entity: Entity) => {\r\n      p.dimension.spawnEntity(\"bey:radius_entity\", p.location);\r\n      if (entity.id !== p.id && entity.typeId !== \"minecraft:wolf\" && entity.typeId !== \"minecraft:cat\") {\r\n        entity.addTag(`Cursed`);\r\n        entity.setDynamicProperty(`Cursed`, 1);\r\n      }\r\n    });\r\n  };\r\n\r\n  static _simpleEffects(\r\n    effect1: string,\r\n    amplifier1: number,\r\n    effect2: string,\r\n    amplifier2: number,\r\n    effect3: string,\r\n    amplifier3: number\r\n  ): AbilityFn {\r\n    return (p) => {\r\n      if (effect1 == `null`) return;\r\n      p.addEffect(effect1, 200, { amplifier: amplifier1 });\r\n      if (effect2 == `null`) return;\r\n      p.addEffect(effect2, 200, { amplifier: amplifier2 });\r\n      if (effect3 == `null`) return;\r\n      p.addEffect(effect3, 200, { amplifier: amplifier3 });\r\n    };\r\n  }\r\n\r\n  static _simpleAreaAttack(\r\n    range: number,\r\n    effect: string,\r\n    amplifier: number,\r\n    setFire: number,\r\n    dash: boolean\r\n  ): AbilityFn {\r\n    return (p) => {\r\n      p.dimension.getEntities({ maxDistance: range, location: p.location }).forEach((entity: Entity) => {\r\n        p.dimension.spawnEntity(\"bey:radius_entity\", p.location);\r\n        if (entity.nameTag !== p.nameTag && entity.typeId !== \"minecraft:wolf\" && entity.typeId !== \"minecraft:cat\") {\r\n          if (entity.id === p.id) return;\r\n          if (effect != undefined) {\r\n            entity.addEffect(effect, 200, { amplifier: amplifier });\r\n          }\r\n          if (setFire != 0) {\r\n            entity.setOnFire(setFire);\r\n          }\r\n          if (dash == true) {\r\n            system.runTimeout(() => {\r\n              let { x, y, z } = p.getViewDirection();\r\n              p.applyKnockback(x, z, 3, 0.1);\r\n            }, 2);\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }\r\n}\r\n","import { Player, Entity, ItemStack } from \"@minecraft/server\";\r\nimport { activeAbilities } from \"./activeAbilityHolder\";\r\n\r\ntype AbilityFn = (player: Player, held: ItemStack) => void;\r\nexport class ActiveAbility {\r\n  static run(player: Player, held: ItemStack) {\r\n    const lore = held.getLore() ?? [];\r\n    const entry = ActiveAbility._abilities.find((a) => lore.some((line) => line === a.tag));\r\n    if (!entry) return;\r\n    if (!ActiveAbility._cooldownReady(player)) return;\r\n\r\n    entry.exec(player, held);\r\n    ActiveAbility._startCooldown(player, entry.cooldown);\r\n  }\r\n\r\n  private static _abilities: { tag: string; exec: AbilityFn; cooldown: number }[] = [\r\n    {\r\n      tag: \"§r§d[Active] Interact To UNLEASH Stored SOULS as HEALTH\",\r\n      exec: activeAbilities._unleashSouls,\r\n      cooldown: 200,\r\n    },\r\n    {\r\n      tag: \"§r§d[Active] Interact To Freeze Entities Briefly\",\r\n      exec: activeAbilities._simpleAreaAttack(6, `slowness`, 6, 0, false),\r\n      cooldown: 1,\r\n    },\r\n    { tag: \"§r§d[Active] Turn Poison Into Pleasure\", exec: activeAbilities._poisonToRegen, cooldown: 1 },\r\n    {\r\n      tag: \"§r§d[Active] Interact To Get A HEALTH BOOST\",\r\n      exec: activeAbilities._simpleEffects(`absorption`, 3, `null`, 0, `null`, 0),\r\n      cooldown: 1,\r\n    },\r\n    {\r\n      tag: \"§r§d[Active] Interact To Get A COMBINED BUFF\",\r\n      exec: activeAbilities._simpleEffects(`regeneration`, 0, `jump_boost`, 0, `speed`, 0),\r\n      cooldown: 1,\r\n    },\r\n    {\r\n      tag: \"§r§d[Active] Interact To Go INVISIBLE for a while\",\r\n      exec: activeAbilities._simpleEffects(`invisibility`, 0, `null`, 0, `null`, 0),\r\n      cooldown: 1,\r\n    },\r\n    { tag: \"§r§d[Active] Interact To Get Buff For a SACRIFICE\", exec: activeAbilities._selfSacrifice, cooldown: 1 },\r\n    { tag: \"§r§d[Active] Interact To Summon WARDEN SPIRITS\", exec: activeAbilities._wardenSpirits, cooldown: 1 },\r\n    {\r\n      tag: \"§r§d[Active] Interact To DASH forward\",\r\n      exec: activeAbilities._simpleAreaAttack(0, `null`, 0, 0, true),\r\n      cooldown: 400,\r\n    },\r\n    { tag: \"§r§d[Active] Interact To BOUNCE foes\", exec: activeAbilities._bounceFoes, cooldown: 1 },\r\n    { tag: \"§r§d[Active] Interact To Summon DIVINE LIGHTNING\", exec: activeAbilities._divineLightning, cooldown: 1 },\r\n    {\r\n      tag: \"§r§d[Active] Interact To Summon FIREBALLS\",\r\n      exec: activeAbilities._simpleAreaAttack(6, `null`, 0, 6, false),\r\n      cooldown: 1,\r\n    },\r\n    { tag: \"§r§d[Active] Interact To Double Your JUMP HEIGHT\", exec: activeAbilities._doubleJump, cooldown: 500 },\r\n    {\r\n      tag: \"§r§d[Active] Interact To BOOST Mining Speed\",\r\n      exec: activeAbilities._simpleEffects(`haste`, 2, `null`, 0, `null`, 0),\r\n      cooldown: 1,\r\n    },\r\n    {\r\n      tag: \"§r§d[Active] Interact for WATER BREATHING\",\r\n      exec: activeAbilities._simpleEffects(`water_breathing`, 2, `null`, 0, `null`, 0),\r\n      cooldown: 1,\r\n    },\r\n    { tag: \"§r§d[Active] Interact To Create EXPLOSIONS\", exec: activeAbilities._createExplosions, cooldown: 1 },\r\n    {\r\n      tag: \"§r§d[Active] Interact replaces HUNGER for HEALING\",\r\n      exec: activeAbilities._simpleEffects(`regeneration`, 6, `hunger`, 254, `null`, 0),\r\n      cooldown: 1,\r\n    },\r\n    {\r\n      tag: \"§r§d[Active] WITHER mobs around you\",\r\n      exec: activeAbilities._simpleAreaAttack(6, `wither`, 5, 0, false),\r\n      cooldown: 1,\r\n    },\r\n    {\r\n      tag: \"§r§d[Active] DASH and set mobs on fire around you\",\r\n      exec: activeAbilities._simpleAreaAttack(6, `null`, 0, 6, true),\r\n      cooldown: 1,\r\n    },\r\n    { tag: \"§r§d[Active] Curse Entities Around\", exec: activeAbilities._curseEntities, cooldown: 1 },\r\n  ];\r\n\r\n  private static _cooldownReady(p: Entity) {\r\n    return (p.getDynamicProperty(\"interact_cooldown\") ?? 0) === 0;\r\n  }\r\n  private static _startCooldown(p: Entity, time: number) {\r\n    p.setDynamicProperty(\"interact_cooldown\", time);\r\n  }\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { ActiveAbility } from \"../features/activeAbility/activeAbility\";\r\n\r\nexport class itemUseHandler {\r\n  static itemUseHandler(itemStack: ItemStack, source: Player) {\r\n    ActiveAbility.run(source, itemStack);\r\n  }\r\n}\r\n","import { Player, Entity, ItemStack, EntityEquippableComponent, EquipmentSlot } from \"@minecraft/server\";\r\nimport { OnHitAbilities } from \"./onHitAbilityHolder\";\r\n\r\ntype AbilityFn = (player: Player, hurtEntity: Entity, held: ItemStack) => void;\r\n\r\nexport class OnHitAbility {\r\n  static run(player: Player, hurtEntity: Entity) {\r\n    const heldItem = (player.getComponent(`equippable`) as EntityEquippableComponent).getEquipment(\r\n      EquipmentSlot.Mainhand\r\n    );\r\n    if (heldItem == undefined) return;\r\n\r\n    const lore = heldItem?.getLore() ?? [];\r\n    const entry = OnHitAbility._abilities.find((a) => lore.some((line) => line === a.tag));\r\n    if (!entry) return;\r\n\r\n    entry.exec(player, hurtEntity, heldItem);\r\n    this._startCooldown(player, entry.cooldown);\r\n  }\r\n\r\n  private static _abilities: { tag: string; exec: AbilityFn; cooldown: number }[] = [\r\n    { tag: \"§r§d[On-Hit] Steal A PORTION of Enemy Health\", exec: OnHitAbilities._stealHealth(0.05), cooldown: 100 },\r\n    {\r\n      tag: \"§r§d[On-Hit] Infect Hurt With Weakness\",\r\n      exec: OnHitAbilities._simpleEffectsHurtEntity(\"weakness\", 2, 100),\r\n      cooldown: 1,\r\n    },\r\n    { tag: \"§r§d[On-Hit] Poison The Enemy\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] WEAK Foes On Hit\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] STUN Foes On Hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] Effect Foes With DARKNESS\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] Effect Foes With FATAL POISON\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] Cause BLINDNESS On Hit\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] Cause VOID DAMAGE On Hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] Cause LEVITATION On Hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] Gain INVINCIBILITY (2s) On Hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] Set Foes On FIRE\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] BOUNCE on hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] STRENGTH buff on hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] SLOW Foes on hit\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] Detonate A SMALL EXPLOSION\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] Instantly HEAL Self On Hit\", exec: () => {}, cooldown: 1 },\r\n    { tag: \"§r§d[On-Hit] Inflict WITHER Effect\", exec: () => {}, cooldown: 100 },\r\n    { tag: \"§r§d[On-Hit] 40% Chance to burn the enemy\", exec: () => {}, cooldown: 140 },\r\n    { tag: \"§r§d[On-Hit] Curse The Enemy\", exec: () => {}, cooldown: 1 },\r\n  ];\r\n  private static _cooldownReady(p: Entity) {\r\n    return (p.getDynamicProperty(\"on_hit_cooldown\") ?? 0) === 0;\r\n  }\r\n  private static _startCooldown(p: Entity, time: number) {\r\n    p.setDynamicProperty(\"on_hit_cooldown\", time);\r\n  }\r\n}\r\n","import { Player } from \"@minecraft/server\";\r\n\r\nexport function tellraw(player: Player, text: string) {\r\n  player.runCommand(`/tellraw @a {\"rawtext\":[{\"text\":\"${text}\"}]}`);\r\n}\r\n","import { Player, Entity, ItemStack, EntityHealthComponent } from \"@minecraft/server\";\r\nimport { tellraw } from \"../../helper/tellraw\";\r\n\r\ntype AbilityFn = (player: Player, hurtEntity: Entity, held: ItemStack) => void;\r\nexport class OnHitAbilities {\r\n  static _simpleEffectsHurtEntity(effect: string, amplifier: number, duration: number): AbilityFn {\r\n    return (player, hurtEntity, held) => {\r\n      hurtEntity.addEffect(effect, duration, { amplifier: amplifier });\r\n    };\r\n  }\r\n\r\n  static _simpleEffectsPlayer(effect: string, amplifier: number, duration: number): AbilityFn {\r\n    return (player, hurtEntity, held) => {\r\n      player.addEffect(effect, duration, { amplifier: amplifier });\r\n    };\r\n  }\r\n\r\n  static _stealHealth(percentage: number): AbilityFn {\r\n    return (player, hurtEntity, held) => {\r\n      const hurtEntityHealth = (hurtEntity.getComponent(`health`) as EntityHealthComponent).currentValue;\r\n      const playerHealth = (player.getComponent(`health`) as EntityHealthComponent).currentValue;\r\n\r\n      (player.getComponent(`health`) as EntityHealthComponent).setCurrentValue(\r\n        playerHealth + hurtEntityHealth * percentage\r\n      );\r\n      tellraw(\r\n        player,\r\n        `§l§4[!]§rOn That Hit You Gained §l§4${(hurtEntityHealth * percentage).toFixed(\r\n          1\r\n        )}§r health. Bigger Target Gives More §l§4Health`\r\n      );\r\n    };\r\n  }\r\n}\r\n","import { Entity, Player, world } from \"@minecraft/server\";\r\nimport { OnHitAbility } from \"../features/ohHitAbility/onHitAbility\";\r\n\r\nexport class entityHitEntityHandler {\r\n  static entityHitEntityHandler(damagingEntity: Player, hitEntity: Entity) {\r\n    OnHitAbility.run(damagingEntity, hitEntity);\r\n  }\r\n}\r\n","import { world, system } from \"@minecraft/server\";\r\nimport { playerProcessor } from \"../features/playerProcessor\";\r\n\r\nexport class runInterval {\r\n  static runInterval() {\r\n    world.getAllPlayers().forEach((player) => {\r\n      playerProcessor.activeAbilityCooldown(player);\r\n      playerProcessor.onHitCooldown(player);\r\n\r\n      playerProcessor.cooldownDisplay(player);\r\n      playerProcessor.cursedEntity(player);\r\n    });\r\n  }\r\n}\r\n","import { Player, world, Entity, system, EntityDamageCause } from \"@minecraft/server\";\r\n\r\nexport class playerProcessor {\r\n  static activeAbilityCooldown(player: Player) {\r\n    let weaponInteract = player.getDynamicProperty(\"interact_cooldown\") ?? 0;\r\n    if (typeof weaponInteract == `number`) {\r\n      if (weaponInteract !== 0) {\r\n        player.setDynamicProperty(\"interact_cooldown\", weaponInteract + 10);\r\n      }\r\n\r\n      if (weaponInteract > 600) {\r\n        player.setDynamicProperty(\"interact_cooldown\", 0);\r\n      }\r\n    }\r\n    player.dimension.getEntities().forEach((entity: Entity) => {\r\n      if (entity.typeId === \"bey:radius_entity\") {\r\n        system.runTimeout(() => {\r\n          entity.runCommand(`/tp @s ~ 100 ~`);\r\n        }, 17);\r\n        system.runTimeout(() => {\r\n          entity.runCommand(`/kill @s`);\r\n        }, 20);\r\n      }\r\n    });\r\n  }\r\n\r\n  static cooldownDisplay(player: Player) {\r\n    const cooldowns: { [key: string]: { time: number; max: number } } = {\r\n      Hurt: { time: Number(player.getDynamicProperty(\"on_hurt_cooldown\") ?? 0), max: 20 },\r\n      Interact: { time: Number(player.getDynamicProperty(\"interact_cooldown\") ?? 0), max: 30 },\r\n      Hit: { time: Number(player.getDynamicProperty(\"on_hit_cooldown\") ?? 0), max: 10 },\r\n    };\r\n\r\n    // Generate action bar text\r\n    const actionBarText: string = Object.entries(cooldowns)\r\n      .filter(([_, data]) => data.time > 0)\r\n      .map(([name, data]) => `§6${name}: §d${data.max - Math.floor(data.time / 20)}s`)\r\n      .join(\" §7| \");\r\n\r\n    // Display action bar text\r\n    player.onScreenDisplay.setActionBar(actionBarText);\r\n  }\r\n\r\n  static cursedEntity(player: Player) {\r\n    player.dimension.getEntities().forEach((entity) => {\r\n      let curseMeter = entity.getDynamicProperty(`Cursed`) || 0;\r\n      if (typeof curseMeter != `number`) return;\r\n      if (entity.hasTag(`Cursed`)) {\r\n        if (curseMeter > 0) entity.setDynamicProperty(`Cursed`, curseMeter + 1);\r\n        if (curseMeter % 3 == 1) {\r\n          entity.dimension.spawnParticle(\"bey:raid_curse\", entity.location);\r\n        }\r\n        if (curseMeter > 60) {\r\n          entity.setDynamicProperty(`Cursed`, 0);\r\n          entity.applyDamage(10, { cause: EntityDamageCause.suicide });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  static onHitCooldown(player: Player) {\r\n    let onHitCooldown = player.getDynamicProperty(`on_hit_cooldown`) as number;\r\n    if (onHitCooldown === undefined) {\r\n      player.setDynamicProperty(`on_hit_cooldown`, 0);\r\n    }\r\n    if (onHitCooldown > 0) {\r\n      player.setDynamicProperty(`on_hit_cooldown`, onHitCooldown + 1);\r\n    }\r\n    if (onHitCooldown > 200) {\r\n      player.setDynamicProperty(`on_hit_cooldown`, 0);\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","names":["key","x","y","z","Minecraft","Minecraft","damage","Vector","Player","system","world","world","system","EntityDamageCause","EquipmentSlot","EquipmentSlot","world","system","EntityDamageCause","world","world","Player","system"],"file":"../scripts/main.js"}